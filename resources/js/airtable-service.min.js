var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(a,c,b){if(null==a)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return a+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,e){if(c){b=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var d=a[e];d in b||(b[d]={});b=b[d]}a=a[a.length-1];e=b[a];c=c(e);c!=e&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,b){var c=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var d=c.length,f=a.length;b=Math.max(0,Math.min(b|0,c.length));for(var g=0;g<f&&b<d;)if(c[b++]!=a[g++])return!1;return g>=f}},"es6","es3");$jscomp.arrayIteratorImpl=function(a){var c=0;return function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.SymbolClass=function(a,c){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:c})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};
$jscomp.Symbol=function(){function a(b){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(b||"")+"_"+c++,b)}var c=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,c){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var b=0,e={next:function(){if(b<a.length){var d=b++;return{value:c(d,a[d]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
var $jscomp$destructuring$var0=require("./angular-app.js"),app=$jscomp$destructuring$var0.app;
(function(){var a=function(a,b,e){return{getData:function(b,c,g){var d=a.defer(),f=[],k=function(d,g){var h=a.defer();e({url:d+(g?"&offset="+g:""),method:"GET"}).then(function(a){(a.data.records||(a.data?[a.data]:[])).forEach(function(a){var d={refId:a.id};"all"!==c.tables[b].fields?c.tables[b].fields.forEach(function(b){switch(!0){case b.startsWith("date"):var c=new Date(Date.parse(a.fields[b]));c.setTime(c.getTime()+6E4*c.getTimezoneOffset());d[b]=c;break;case Array.isArray(a.fields[b]):d[b]=a.fields[b][0];
break;default:d[b]=a.fields[b]?""+a.fields[b]:""}}):Object.keys(a).forEach(function(b){"id"!==b&&(d[b]=a[b])});f.push(d)});a.data.offset?k(d,a.data.offset).then(function(){h.resolve()}):h.resolve()},function(a){h.reject(a.error)});return h.promise};k(c.url+"/"+b+(g?"/"+g:"")+"?api_key="+c.key).then(function(){f.sort(function(a,b){return parseInt(a.id)-parseInt(b.id)});d.resolve(f)},function(a){console.log(a)});return d.promise},createData:function(c,f,g){var d=a.defer();b({url:f.url+"/"+c+"?api_key="+
f.key,method:"POST",data:g}).then(function(a){d.resolve(a.data)},function(a){console.log("Error: "+a.error)});return d.promise},updateData:function(c,f,g,h){var d=a.defer();b({url:f.url+"/"+c+"/"+g+"?api_key="+f.key,method:"PUT",data:h}).then(function(a){d.resolve(a.data)},function(a){console.log("Error: "+a.error)});return d.promise},deleteData:function(c,f,g){var d=a.defer();b({url:f.url+"/"+c+"/"+g+"?api_key="+f.key,method:"DELETE"}).then(function(a){d.resolve(a.data)},function(a){console.log("Error: "+
a.error)});return d.promise},sortByLocale:function(a,b){a&&a.sort(function(a,c){a="object"===typeof a&&b?a[b]:a;c="object"===typeof c&&b?c[b]:c;return a&&c?a.localeCompare(c):0})}}};a.$inject=["$q","$http","DelayHttp"];app.factory("AirtableService",a)})();
